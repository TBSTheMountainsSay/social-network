"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[414],{5414:function(e,s,n){n.r(s),n.d(s,{default:function(){return E}});var a=n(2791),t=n(3531),r=n(1548),i=n(9439),c="Messenger_messenger__DxRHt",o="Messenger_wrapper__YPN9I",u="Dialogs_dialogs__7++Jd",d="Dialog_dialog__8q+mr",l="Dialog_avatar__gr49t",g="Dialog_active__Vj82R",m=n(1871),x=n(184),h=function(e){return(0,x.jsxs)("div",{className:e.isActive?"".concat(d," ").concat(g):d,children:[(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)(m.Z,{})," "]}),(0,x.jsx)("p",{children:e.name})]})},j=n(1087),f=n(7689),v=function(e){var s=(0,f.UO)()["*"],n=e.dialogsData.map((function(e){return(0,x.jsx)(j.OL,{to:"/dialogs/".concat(e.id),children:(0,x.jsx)(h,{name:e.name,isActive:s===e.id})})}));return(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("input",{type:"text",placeholder:"Search"}),n]})},_=(0,t.$j)((function(e){return{dialogsData:e.messengerPage.usersData}}),(function(){return{}}))(v),p=n(2310),w="Messages_messages__WFB-z",M="Messages_wrapper__-gSNN",N="Message_message__L49Vv",D="Message_my__8ezpY",k=function(e){return(0,x.jsx)("div",{className:e.isMyMessage?"".concat(N," ").concat(D):N,children:e.message})},y=n(342),Z=function(e){var s=e.messagesData.map((function(e){return(0,x.jsx)(k,{message:e.message,isMyMessage:e.isMyMessage})})),n=a.createRef();return(0,x.jsxs)("div",{className:M,children:[(0,x.jsx)("div",{className:w,children:s}),(0,x.jsx)("input",{value:e.newMessageText,onChange:function(){var s=n.current.value;e.updateNewMessageText(s)},ref:n,name:"text",placeholder:"Write a message..."}),(0,x.jsx)("button",{onClick:function(){e.addMessage()},children:(0,x.jsx)(y.Z,{id:"send"})})]})},A=(0,t.$j)((function(e){return{messagesData:e.messengerPage.messagesData,newMessageText:e.messengerPage.newMessageText}}),{addMessage:p.Hz,updateNewMessageText:p.uh})(Z),C=function(){var e=(0,a.useState)(window.innerWidth),s=(0,i.Z)(e,2),n=s[0],t=s[1],r=(0,f.UO)()["*"],u=n>=480,d=(0,f.s0)();return(0,a.useEffect)((function(){var e=function(){t(window.innerWidth)},s=function(e){"Escape"===e.key&&(console.log("redirect"),d("/dialogs"))};return window.addEventListener("resize",e),document.addEventListener("keydown",s),function(){window.removeEventListener("resize",e),document.removeEventListener("keydown",s)}}),[]),(0,x.jsx)("div",{className:c,children:u?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:o,children:(0,x.jsx)(f.Z5,{children:(0,x.jsx)(f.AW,{path:":id",element:(0,x.jsx)(A,{})})})}),(0,x.jsx)(_,{})]}):r?(0,x.jsx)("div",{className:o,children:(0,x.jsx)(f.Z5,{children:(0,x.jsx)(f.AW,{path:":id",element:(0,x.jsx)(A,{})})})}):(0,x.jsx)(_,{})})},E=(0,n(7781).qC)((0,t.$j)((function(){return{}})),r.D)(C)},1548:function(e,s,n){n.d(s,{D:function(){return m}});var a=n(1413),t=n(5671),r=n(3144),i=n(136),c=n(516),o=n(2791),u=n(7689),d=n(3531),l=n(184),g=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,i.Z)(o,s);var n=(0,c.Z)(o);function o(){return(0,t.Z)(this,o),n.apply(this,arguments)}return(0,r.Z)(o,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(e,(0,a.Z)({},this.props)):(0,l.jsx)(u.Fg,{to:"/login"})}}]),o}(o.Component);return(0,d.$j)(g)(s)}}}]);
//# sourceMappingURL=414.9cc61ff5.chunk.js.map