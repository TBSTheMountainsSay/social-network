"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[247],{7247:function(e,n,s){s.r(n),s.d(n,{default:function(){return x}});var r=s(5671),o=s(3144),t=s(136),i=s(516),l=s(2791),u=s(3531),a=s(1123),c="Friends_friends__VFOuQ",d="Friends_user__wgfir",f="Friends_name__IEQkR",g="Friends_status__2jWM+",p="Friends_button__Cx8Q1",h="Friends_button-grey__A61w+",w="Friends_preloader__XRAMQ",_=s(1871),v=s(184),P=function(e){for(var n=Math.ceil(e.totalUsersCount/e.pageSize),s=[],r=1;r<=n;r++)s.push(r);return(0,v.jsx)("div",{className:c,children:e.users.map((function(n){return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(_.Z,{variant:"veryBig",url:"/profile/".concat(n.id),imgsrc:n.photos.small}),(0,v.jsx)("div",{className:f,children:n.name}),(0,v.jsx)("div",{className:g,children:n.status}),n.followed?(0,v.jsx)("button",{className:h,disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.unfollow(n.id)},children:"Unfollow"}):(0,v.jsx)("button",{className:p,disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.follow(n.id)},children:"Follow"})]},n.id)}))})},m=s(342),j=s(1548),C=s(7781),F=function(e){(0,t.Z)(s,e);var n=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=n.call.apply(n,[this].concat(t))).onPageChanged=function(n){e.props.getUsers(n,e.props.pageSize)},e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.getUsers(this.props.currentPage,this.props.pageSize),window.addEventListener("scroll",(function(){document.querySelector("body").scrollHeight-window.innerHeight-window.scrollY===0&&e.onPageChanged(e.props.currentPage+1)}))}},{key:"render",value:function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:w,children:this.props.isFetching?(0,v.jsx)(m.Z,{id:"preloader"}):null}),(0,v.jsx)(P,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),s}(l.Component),x=(0,C.qC)((0,u.$j)((function(e){return{users:e.friendsPage.users,pageSize:e.friendsPage.pageSize,totalUsersCount:e.friendsPage.totalUsersCount,currentPage:e.friendsPage.currentPage,isFetching:e.friendsPage.isFetching,followingInProgress:e.friendsPage.followingInProgress}}),{follow:a.ZN,unfollow:a.fv,setCurrentPage:a.D4,toggleIsFollowingProgress:a.Ar,getUsers:a.Rf}),j.D)(F)},1548:function(e,n,s){s.d(n,{D:function(){return g}});var r=s(1413),o=s(5671),t=s(3144),i=s(136),l=s(516),u=s(2791),a=s(7689),c=s(3531),d=s(184),f=function(e){return{isAuth:e.auth.isAuth}},g=function(e){var n=function(n){(0,i.Z)(u,n);var s=(0,l.Z)(u);function u(){return(0,o.Z)(this,u),s.apply(this,arguments)}return(0,t.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(a.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(f)(n)}}}]);
//# sourceMappingURL=247.54dd2085.chunk.js.map