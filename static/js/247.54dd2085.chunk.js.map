{"version":3,"file":"static/js/247.54dd2085.chunk.js","mappings":"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","sources":["webpack://social-network/./src/Components/Wrapper/Main/Friends/Friends.module.css?5c2e","Components/Wrapper/Main/Friends/Friends.jsx","Components/Wrapper/Main/Friends/FriendsContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"friends\":\"Friends_friends__VFOuQ\",\"user\":\"Friends_user__wgfir\",\"name\":\"Friends_name__IEQkR\",\"status\":\"Friends_status__2jWM+\",\"button\":\"Friends_button__Cx8Q1\",\"button-grey\":\"Friends_button-grey__A61w+\",\"preloader\":\"Friends_preloader__XRAMQ\"};","import React from 'react';\r\nimport styles from './Friends.module.css';\r\nimport Avatar from '../../../Avatar/Avatar';\r\n\r\nconst Friends = (props) => {\r\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.friends}>\r\n      {props.users.map((user) => (\r\n        <div key={user.id} className={styles.user}>\r\n          <Avatar\r\n            variant={'veryBig'}\r\n            url={`/profile/${user.id}`}\r\n            imgsrc={user.photos.small}\r\n          />\r\n          <div className={styles.name}>{user.name}</div>\r\n          <div className={styles.status}>{user.status}</div>\r\n          {user.followed ? (\r\n            <button\r\n              className={styles['button-grey']}\r\n              disabled={props.followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                props.unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className={styles.button}\r\n              disabled={props.followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                props.follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  follow,\r\n  setCurrentPage,\r\n  unfollow,\r\n  toggleIsFollowingProgress,\r\n  getUsers,\r\n} from '../../../../Redux/users-reducer';\r\nimport Friends from './Friends';\r\nimport SvgSelector from '../../../SvgSelector/SvgSelector';\r\nimport styles from './Friends.module.css';\r\nimport { withAuthRedirect } from '../../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass FriendsContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    window.addEventListener('scroll', () => {\r\n      const body = document.querySelector('body');\r\n      const bodyHeight = body.scrollHeight - window.innerHeight;\r\n      if (bodyHeight - window.scrollY === 0) {\r\n        this.onPageChanged(this.props.currentPage + 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={styles.preloader}>\r\n          {this.props.isFetching ? <SvgSelector id=\"preloader\" /> : null}\r\n        </div>\r\n\r\n        <Friends\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.friendsPage.users,\r\n    pageSize: state.friendsPage.pageSize,\r\n    totalUsersCount: state.friendsPage.totalUsersCount,\r\n    currentPage: state.friendsPage.currentPage,\r\n    isFetching: state.friendsPage.isFetching,\r\n    followingInProgress: state.friendsPage.followingInProgress,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    getUsers,\r\n  }),\r\n  withAuthRedirect\r\n)(FriendsContainer);\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n"],"names":["props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","_jsx","className","styles","children","users","map","user","_jsxs","Avatar","variant","url","concat","id","imgsrc","photos","small","name","status","followed","disabled","followingInProgress","some","onClick","unfollow","follow","FriendsContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","onPageChanged","pageNumber","getUsers","_createClass","key","value","_this2","this","currentPage","window","addEventListener","document","querySelector","scrollHeight","innerHeight","scrollY","_Fragment","isFetching","SvgSelector","Friends","React","compose","connect","state","friendsPage","setCurrentPage","toggleIsFollowingProgress","withAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","_objectSpread","Navigate","to"],"sourceRoot":""}