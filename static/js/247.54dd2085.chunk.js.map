{"version":3,"file":"static/js/247.54dd2085.chunk.js","mappings":"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","sources":["webpack://social-network/./src/Components/Wrapper/Main/Friends/Friends.module.css?5c2e","Components/Wrapper/Main/Friends/Friends.jsx","Components/Wrapper/Main/Friends/FriendsContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"friends\":\"Friends_friends__VFOuQ\",\"user\":\"Friends_user__wgfir\",\"name\":\"Friends_name__IEQkR\",\"status\":\"Friends_status__2jWM+\",\"button\":\"Friends_button__Cx8Q1\",\"button-grey\":\"Friends_button-grey__A61w+\",\"preloader\":\"Friends_preloader__XRAMQ\"};","import React from 'react';\nimport styles from './Friends.module.css';\nimport Avatar from '../../../Avatar/Avatar';\n\nconst Friends = (props) => {\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n\n  const pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  return (\n    <div className={styles.friends}>\n      {props.users.map((user) => (\n        <div key={user.id} className={styles.user}>\n          <Avatar\n            variant={'veryBig'}\n            url={`/profile/${user.id}`}\n            imgsrc={user.photos.small}\n          />\n          <div className={styles.name}>{user.name}</div>\n          <div className={styles.status}>{user.status}</div>\n          {user.followed ? (\n            <button\n              className={styles['button-grey']}\n              disabled={props.followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                props.unfollow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              className={styles.button}\n              disabled={props.followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                props.follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Friends;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  follow,\n  setCurrentPage,\n  unfollow,\n  toggleIsFollowingProgress,\n  getUsers,\n} from '../../../../Redux/users-reducer';\nimport Friends from './Friends';\nimport SvgSelector from '../../../SvgSelector/SvgSelector';\nimport styles from './Friends.module.css';\nimport { withAuthRedirect } from '../../../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\nclass FriendsContainer extends React.Component {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    window.addEventListener('scroll', () => {\n      const body = document.querySelector('body');\n      const bodyHeight = body.scrollHeight - window.innerHeight;\n      if (bodyHeight - window.scrollY === 0) {\n        this.onPageChanged(this.props.currentPage + 1);\n      }\n    });\n  }\n\n  onPageChanged = (pageNumber) => {\n    this.props.getUsers(pageNumber, this.props.pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        <div className={styles.preloader}>\n          {this.props.isFetching ? <SvgSelector id=\"preloader\" /> : null}\n        </div>\n\n        <Friends\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          users={this.props.users}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          followingInProgress={this.props.followingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.friendsPage.users,\n    pageSize: state.friendsPage.pageSize,\n    totalUsersCount: state.friendsPage.totalUsersCount,\n    currentPage: state.friendsPage.currentPage,\n    isFetching: state.friendsPage.isFetching,\n    followingInProgress: state.friendsPage.followingInProgress,\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    toggleIsFollowingProgress,\n    getUsers,\n  }),\n  withAuthRedirect\n)(FriendsContainer);\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n"],"names":["props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","_jsx","className","styles","children","users","map","user","_jsxs","Avatar","variant","url","concat","id","imgsrc","photos","small","name","status","followed","disabled","followingInProgress","some","onClick","unfollow","follow","FriendsContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","onPageChanged","pageNumber","getUsers","_createClass","key","value","_this2","this","currentPage","window","addEventListener","document","querySelector","scrollHeight","innerHeight","scrollY","_Fragment","isFetching","SvgSelector","Friends","React","compose","connect","state","friendsPage","setCurrentPage","toggleIsFollowingProgress","withAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","_objectSpread","Navigate","to"],"sourceRoot":""}